const express=require("express"),path=require("path"),session=require("express-session"),SessionStore=require("connect-mongodb-session")(session),homeRouter=require("./routes/home.route"),productRouter=require("./routes/product.router"),authRouter=require("./routes/auth.router"),app=express(),port=3e3;app.use(express.static(path.join(__dirname,"assets"))),app.use(express.static(path.join(__dirname,"images")));const STORE=new SessionStore({uri:"mongodb://localhost:27017/online-shop",collection:"sessions"});app.use(session({secret:"this is my secret secreat to hash express sessions .......",saveUninitialized:!1,store:STORE})),app.set("view engine","ejs"),app.set("views","views"),app.use("/",homeRouter),app.use("/",authRouter),app.use("/product",productRouter),app.listen(3e3,err=>{console.log("error : ",err),console.log("Example app listening on port port!")});